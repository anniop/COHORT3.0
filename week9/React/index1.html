<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>
  <div id ="buttonParent">
     
   </div>

  <script>
  let state = {
    count: 0,
    color: "black"
  }

  function onButtonPress() {
    state.count++;
    state.color = Math.random() > 0.5 ? "red" : "yellow";
    buttonComponentRender()
  }

  function buttonComponentRender() {
    document.getElementById("buttonParent").innerHTML = "";
    const component = buttonComponent(state.count, state.color);
    document.getElementById("buttonParent").appendChild(component);
  }

  function buttonComponent( count, color ) {
    const button = document.createElement("button");
    button.innerHTML = `Counter ${count}`;
    button.setAttribute("onclick", `onButtonPress()`);
    button.setAttribute("style", `color: ` + color);
    return button;
  }

  buttonComponentRender();
  </script>
  </body>
</html>
